<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>凝萌小记</title>
    <description>作家是杂家</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 01 May 2017 12:05:21 +0800</pubDate>
    <lastBuildDate>Mon, 01 May 2017 12:05:21 +0800</lastBuildDate>
    <generator>Jekyll v3.4.3</generator>
    
      <item>
        <title>用数学画地图</title>
        <description>&lt;h2 id=&quot;1地图投影为什么会变形&quot;&gt;1、地图投影为什么会变形？&lt;/h2&gt;

&lt;p&gt;要知道变形怎么来，我们就从什么是投影讲起。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;(据维基百科)&lt;/p&gt;

  &lt;p&gt;A map projection is a systematic transformation of the latitudes and longitudes of locations on the surface of a sphere or an ellipsoid into locations on a plane.”&lt;/p&gt;

  &lt;p&gt;(孙达 蒲英虾 《地图投影》)&lt;/p&gt;

  &lt;p&gt;所谓地图投影，简单地讲就是在平面上建立与地球曲面上相对应的经纬网的数学法则。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;说白了，投影就是将地球表面的坐标网表示在平面上，那么这个用二维展绘三维的方法必定会有许多问题。一个很常举的例子就是把橘子剥皮展开铺在桌子上，那么橘子皮必然会有褶皱或裂隙 ，同样的地球表面展开的话，就一定会产生变形。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/2017050102/pic01.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如上图，把地球这个大橘子剥开，沿着赤道拼接，一拉开，就成了一幅地图。&lt;/p&gt;

&lt;p&gt;当然，还有别的剥橘子展平的方法，那就是另一种投影了。&lt;/p&gt;

&lt;p&gt;变形是研究地图投影的重要部分。&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;2地图是怎么投影出来的&quot;&gt;2、地图是怎么投影出来的？&lt;/h2&gt;

&lt;p&gt;要知道怎么按条件投影，就先要知道投影怎么来。&lt;/p&gt;

&lt;p&gt;传统的投影是用&lt;strong&gt;光学透视&lt;/strong&gt;的方法获得的，这样的投影简单易得，但球面与平面的数学关系不容易得到，所以现代地图投影都会采用&lt;strong&gt;数学方法&lt;/strong&gt;进行。&lt;/p&gt;

&lt;p&gt;现代地图投影方法分为&lt;strong&gt;几何透视法&lt;/strong&gt;和&lt;strong&gt;数学分析法&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;传统上的光学透视其实就是在玻璃地球的某个位置放个小灯，灯光在纸上投下的影子就成了一幅地图（也许这就是投影的最初含义了）。比如我把灯放在球心，就得到球心投影。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/2017050102/pic02.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;但是这用小灯泡画图的话，只能得到地图，有没有方法可以不用通过灯就能把地图做出来同时又能得到球面与平面的数学关系呢？&lt;/p&gt;

&lt;p&gt;后来的地图投影就开始用数学方法来投影了。之前的光学透视的投影我们运用光学原理的知识，应该是能算出平面与球面的数学关系的。&lt;/p&gt;

&lt;p&gt;这种关系是怎样的呢？我们将球面投影为平面，那么球上的任意一点P，就肯定能在平面上找到一点P’。那么所谓的地图投影，难道不就是一个坐标变换的过程吗？用数学上的话说，那就是映射啊！如果我们用数字表示出P和P’，那么地图投影&lt;em&gt;f&lt;/em&gt; 就变成了一个函数啦！&lt;/p&gt;

&lt;p&gt;怎么表示一个点呢？那肯定是用坐标！&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;3地图与坐标系&quot;&gt;3、地图与坐标系&lt;/h2&gt;

&lt;p&gt;坐标系有很多种啊，比如笛卡尔坐标系，极坐标系。&lt;/p&gt;

&lt;p&gt;在地理上，坐标系又是怎样的呢？我们现在有两个面，一个是平面，一个是球面（或椭球面）。&lt;/p&gt;

&lt;p&gt;地图上的坐标就是平面坐标，我们一般用数学常用的直角坐标和极坐标就好了，不过要注意哦，地理的坐标系和数学的有点不一样，x轴指向的是北边的，也就是说竖起来的那条轴才是x轴。&lt;/p&gt;

&lt;p&gt;在地球上的坐标系又是怎样呢？&lt;/p&gt;

&lt;p&gt;我们用一个椭球（我们叫他大地椭球体）来近似代替地球吧，至于这个椭球是怎么来的，大家可以参考一下&lt;a href=&quot;https://zhihu.com/question/27681013/answer/108473609&quot;&gt;@凃小图的答案&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;在这个椭球面上，我们建立了一个地理坐标系，地理坐标系其实也分成天文经纬度、大地经纬度、地心经纬度。天文经纬度可以用于大地测量中定向控制及校核数据，而在地图投影中用的一般是大地经纬度和地心经纬度。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/2017050102/pic03.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;大地坐标系用大地经度和大地纬度来确定面上的点。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;大地经度L&lt;/strong&gt;指过参考椭球面上某一点的大地子午面与本初子午面之间的二面角，&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;大地纬度B&lt;/strong&gt;指过参考椭球面上某一点的法线与赤道面的夹角。&lt;/p&gt;

&lt;p&gt;地心坐标系的地心指地球椭球体的质量中心。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;地心经度&lt;/strong&gt;等同于大地经度，&lt;strong&gt;地心纬度&lt;/strong&gt;是指&lt;u&gt;参考椭球体面上的任意一点和椭球体中心连线与赤道面之间的夹角&lt;/u&gt;。&lt;/p&gt;

&lt;p&gt;这经纬度的定义似乎很复杂，嗯，确实很复杂，怎么说的通俗点呢？不如我们不要看这个定义，我们只要知道&lt;strong&gt;通过经纬度就能确定这个椭球面上的点&lt;/strong&gt;就好了。&lt;/p&gt;

&lt;p&gt;当然有时候地理研究和小比例尺地图制图对精度要求不高，故常把椭球体当作正球体看待，此时，地理坐标采用地球球面坐标，经纬度均用地心经纬度。&lt;/p&gt;

&lt;p&gt;所以&lt;strong&gt;我们用数字表示了两个点&lt;/strong&gt;：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/2017050102/math01.png&quot; alt=&quot;avatar&quot; /&gt;或&lt;img src=&quot;/img/in-post/2017050102/math02.png&quot; alt=&quot;avatar&quot; /&gt;表示经纬度。&lt;/p&gt;

&lt;p&gt;用直角坐标表示为&lt;img src=&quot;/img/in-post/2017050102/math03.png&quot; alt=&quot;avatar&quot; /&gt;用极坐标表示为&lt;img src=&quot;/img/in-post/2017050102/math04.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;4再论地图投影&quot;&gt;4、再论地图投影&lt;/h2&gt;

&lt;p&gt;我们知道了地图投影是一个映射&lt;img src=&quot;/img/in-post/2017050102/math05.png&quot; alt=&quot;avatar&quot; /&gt;用数字表示P和P’两个点后，就有函数&lt;img src=&quot;/img/in-post/2017050102/math06.png&quot; alt=&quot;avatar&quot; /&gt;好了，我们是可以通过光学透视条件试着求出这个 和 的。以著名的墨卡托为例，（我们略过数学证明）其投影公式是：&lt;img src=&quot;/img/in-post/2017050102/math07.png&quot; alt=&quot;avatar&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;5地图变形&quot;&gt;5、地图变形&lt;/h2&gt;

&lt;p&gt;讲了这么久，终于扯到变形啦。&lt;/p&gt;

&lt;p&gt;在保持图形完整性前提下，将（椭）球面转化为平面，投影后得到的经纬线网形状必然会产生变形，也就是说，在投影的过程中，变形是必然存在的。&lt;/p&gt;

&lt;p&gt;投影变形使地物的几何特性发生了变化，变形一般包括长度、面积、方向（角度）变形。&lt;/p&gt;

&lt;p&gt;为了直观地体验或描述变形，我们造了个变形椭圆，我们在球上画一个小圆圈，这个小圈圈投影到平面上就会变成一个椭圆了，直观地表现了投影变形，看看这些图咯：
&lt;img src=&quot;/img/in-post/2017050102/pic04.png&quot; alt=&quot;avatar&quot; /&gt;
但我们要用数字来表示变形啊，这样才能知道具体怎么变形，才能知道是不是等角，不然你看着一个个小圈圈怎么知道它有没有变形啊。&lt;/p&gt;

&lt;p&gt;用来描述变形的有长度比、面积比、角度变形。&lt;/p&gt;

&lt;p&gt;长度比用来描述长度变形，一个微分线段ds，投影在平面上变成了ds’,那么长度比其实就是ds’与ds的比：&lt;img src=&quot;/img/in-post/2017050102/math08.png&quot; alt=&quot;avatar&quot; /&gt;不过呢，这个表示出来的并不是变形，表示变形的话，应该用变形的长度比上原长度。&lt;/p&gt;

&lt;p&gt;所以我们这样表示长度变形：&lt;img src=&quot;/img/in-post/2017050102/math09.png&quot; alt=&quot;avatar&quot; /&gt;然而这还不够，不同方向的线段变形不一样啊，我们一般只看四个方向的长度比。过同一个点的线段，有的方向的变形大，有的方向变形小，变形最大的叫极大长度比a，最小的就叫极小长度比b，这两个方向其实就是变形椭圆的长半径和短半径方向。我们称这两个方向为主方向。有时候主方向就是经纬度方向（m，n），当然有时候不是。&lt;/p&gt;

&lt;p&gt;面积比P就是变形前后的面积比，很容易就可以知道，P=ab。&lt;/p&gt;

&lt;p&gt;角度变形则是指投影前后角度的差值&lt;img src=&quot;/img/in-post/2017050102/math10.png&quot; alt=&quot;avatar&quot; /&gt;其中&lt;em&gt;β&lt;/em&gt; 指一个方向与主方向的夹角，当差值最大时（记为ω/2）有：&lt;img src=&quot;/img/in-post/2017050102/math11.png&quot; alt=&quot;avatar&quot; /&gt;
ω称为最大角度变形&lt;/p&gt;

&lt;p&gt;利用数学方法，我们可以通过a和b来考察某个投影的变形。此处就不细讲了。&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;6怎么控制地图变形&quot;&gt;6、怎么控制地图变形。&lt;/h2&gt;

&lt;p&gt;对于一些几何投影，比如方位投影、圆柱投影等，他们是有自己的投影公式的。&lt;/p&gt;

&lt;p&gt;比如利用已知条件和光学透视我们可以知道正轴圆柱投影都满足以下通式。&lt;img src=&quot;/img/in-post/2017050102/pic05.png&quot; alt=&quot;avatar&quot; /&gt;其变形也有公式，推导如下：&lt;img src=&quot;/img/in-post/2017050102/pic06.png&quot; alt=&quot;avatar&quot; /&gt;这样，如果我们限定变形条件比如使得m=n（等角条件），把mn代入就有一条方程了，积分一下就可以算得投影公式。&lt;/p&gt;

&lt;p&gt;这里&lt;strong&gt;等角条件m=n&lt;/strong&gt;；&lt;strong&gt;等积条件P=mn=1&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;至于等距条件，就是是对应长度比为1（实际上是任意投影的一种）&lt;/p&gt;

&lt;p&gt;到后来的伪投影、派生投影也都是&lt;strong&gt;通过量化变形来得到投影公式从而达到控制变形&lt;/strong&gt;。&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;总结&quot;&gt;总结&lt;/h2&gt;

&lt;p&gt;1、地图开始是通过光学透视投射出来的，这就是投影的由来&lt;/p&gt;

&lt;p&gt;2、后来人们开始通过数学计算变换坐标系的方式来进行抽象的投影，不再是拿着小灯泡照来照去了。&lt;/p&gt;

&lt;p&gt;3、地图投影必定会产生变形，我们用长度比、面积比和角度变形来表示这些变形，从而分析投影变形。&lt;/p&gt;

&lt;p&gt;4、反过来如果我们要控制变形得到按条件的投影，我们就用对应的变形条件，通过数学推导到处对应的变换公式。&lt;/p&gt;

&lt;p&gt;2017.03.31 下午 于珠海&lt;/p&gt;

&lt;p&gt;问题原载于&lt;a href=&quot;https://zhihu.com/question/27681013/answer/154323255&quot;&gt;知乎 - 地图投影怎么做到按条件（等角、等面积、等距）投影的？ - 罗皓文的回答&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 01 May 2017 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2017/05/01/post02/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/05/01/post02/</guid>
        
        <category>地图投影</category>
        
        <category>地图学</category>
        
        <category>投影条件</category>
        
        <category>地图变形</category>
        
        
      </item>
    
      <item>
        <title>搭建一个小记事本</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;“有些人种花聊以消遣，有些人种花志在卖钱；真种花者以种花为其生活，——而花亦未尝不美，未尝于人无益。（周作人《自己的园地》）”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;缘起&quot;&gt;缘起&lt;/h2&gt;

&lt;p&gt;Hux 的 Blog 就这么开通了。&lt;/p&gt;

&lt;p&gt;中学时候有写周记的习惯，写得一篇文章后又会拿去给同学看，那非常的愉悦就像是幼儿园的孩子夸耀自己的手工作品一样。等到今天处于大学里，自由的时间多了，却更加无暇去作文。有无穷多的乐事、烦心事去充塞我的生活，这些大大小小的事迫使我戒掉了读书作文这种精神上的鸦片。由于某种心潮，近来终于又读起几本闲书来，自然又勾起往日的那些瘾。&lt;/p&gt;

&lt;p&gt;这个世界很热闹，倘若我可以在其中垦一片自己的园地，那便是很好的。&lt;/p&gt;

&lt;p&gt;我写小诗，写小说，写小杂文，也写学习上的小收获。&lt;/p&gt;

&lt;p&gt;可是写在纸上的文字是没人能看到的，我便开垦了一个这样的小园地，种上我自己的菜苗。&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;开荒&quot;&gt;开荒&lt;/h2&gt;

&lt;p&gt;我一直就在试着建个小站，申请了个免费的域名&lt;a href=&quot;https://rimoe.ml/&quot;&gt;rimoe.ml&lt;/a&gt;，用&lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; + &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;搭了个简易的小网页，后来因为忙就荒废了。&lt;/p&gt;

&lt;p&gt;后来想写点东西时，就继续搭建我的小站，在GitHub上pull了两个模版，捣鼓一下代码，便出来了这个简单的网页。&lt;/p&gt;

&lt;p&gt;过程中不免走了些许弯路，但在模版上小修小改还是颇为容易的，就这样勉强地把我贫瘠的小园地垦出来了。&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;后记&quot;&gt;后记&lt;/h2&gt;

&lt;p&gt;回顾这个博客的诞生，纯粹是出于个人兴趣。在知乎相关问题上回答并获得一定的 star 后，我决定把这个博客主题当作一个小小的开源项目来维护。&lt;/p&gt;

&lt;p&gt;在经历 v1.0 - v1.5 的蜕变后，这个博客主题愈发完整，不但增加了诸多 UI 层的优化（opinionated）；在代码层面，更加丰富的配置项也使得这个主题拥有了更好的灵活性与可拓展性。而作为一个开源项目，我也积极的为其完善文档与解决 issue。&lt;/p&gt;

&lt;p&gt;如果你恰好逛到了这里，希望你也能喜欢这个博客主题。&lt;/p&gt;

&lt;p&gt;2017.05.01 早晨 于珠海&lt;/p&gt;
</description>
        <pubDate>Mon, 01 May 2017 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2017/05/01/post01/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/05/01/post01/</guid>
        
        <category>生活</category>
        
        
      </item>
    
  </channel>
</rss>
